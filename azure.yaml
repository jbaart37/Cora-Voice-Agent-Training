# Azure Developer CLI Configuration
name: voice-agent-simulator
metadata:
  template: voice-agent-simulator@1.1.0

infra:
  provider: bicep
  path: infra
  module: main
  parameters:
    environmentName: ${AZURE_ENV_NAME}
    location: ${AZURE_LOCATION}
    principalId: ${AZURE_PRINCIPAL_ID}

services:
  web:
    language: python
    project: ./src
    host: containerapp
    docker:
      path: ./src/Dockerfile
      context: ./src

# Environment variable mappings for Bicep parameters
# These map azd environment variables to Bicep template parameters
hooks:
  postprovision:
    posix:
      shell: sh
      run: |
        echo "Deployment complete!"
    windows:
      shell: pwsh
      run: |
        Write-Host "Deployment complete!"
